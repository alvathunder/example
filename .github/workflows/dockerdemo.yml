name: demo

on: [push, workflow_dispatch] #will be triggered by a push and can be triggered manually


jobs:
  build: 
    runs-on: ubuntu-latest

    steps: 
    - name: check out code 
      uses: actions/checkout@2
    
    - name: installing apache 
      run: |
        apt update
        apt upgrade
        apt install apache2 -y
        systemctl enable --now apache2.service
        systemctl status apache2
      shell: bash
    
    - name: Building docker image
      uses: mr-smithers-excellent/docker-build-push@v4
      with: 
          image: alvathunder/action
          registry: docker.io
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}
